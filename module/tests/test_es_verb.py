import enwiktionary_templates.module.es_verb as M
import re

#added_combos = []
#for p1 in ["me", "te", "se", "nos", "os"]:
#    for p2 in ["lo", "la", "le", "los", "las", "les"]:
#        added_combos.append(p1+p2)
#extended_combos = tuple(added_combos)

def test_check_slots():
    assert len(M.verb_slots_basic) == 74
    assert len(M.verb_slots_combined) == 217
    assert len(M.all_verb_slots) == 291

#    assert len(list(x for x in M.verb_slots_combined.keys() if re.match(r".*_(.*)", x).group(1) not in extended_combos)) == 67
#    assert len(list(x for x in M.all_verb_slots.keys() if re.match(r".*_(.*)", x).group(1) not in extended_combos)) == 141

def test_generate_forms():
    args = { 1: None }
    d = {}
    from_headword = False

    def compare(wiki, full):
        full = full.replace("[[", "").replace("]]", "")
        wiki = wiki.replace("[[", "").replace("]]", "")
        full_idx = tuple(full.split("|"))
        for i in wiki.split("|"):
            if i not in full_idx:
                k,v = i.split("=",2)
                for i2 in full_idx:
                    k2,v2 = i2.split("=",2)
                    if k2 == k:
                        raise ValueError(f"'{i}' does not match '{k2}={v2}'")
                raise ValueError(i + " key not found in " + full)

    #assert "|".join(sorted(joined.split("|"))) == "|".join(sorted(baseline.split("|")))


    PAGENAME = "tener"
    # curl 'https://en.wiktionary.org/w/api.php?action=expandtemplates&format=json&prop=wikitext&text=%7B%7BUser:JeffDoozan/es-verb-generate-forms|tener%7D%7D'
    baseline = "infinitive=tener|infinitive_linked=tener|gerund=teniendo|pp_ms=tenido|pp_fs=tenida|pp_mp=tenidos|pp_fp=tenidas|pres_1s=tengo|pres_2s=tienes|pres_2sv=tenés|pres_3s=tiene|pres_1p=tenemos|pres_2p=tenéis|pres_3p=tienen|impf_1s=tenía|impf_2s=tenías|impf_3s=tenía|impf_1p=teníamos|impf_2p=teníais|impf_3p=tenían|pret_1s=tuve|pret_2s=tuviste|pret_3s=tuvo|pret_1p=tuvimos|pret_2p=tuvisteis|pret_3p=tuvieron|fut_1s=tendré|fut_2s=tendrás|fut_3s=tendrá|fut_1p=tendremos|fut_2p=tendréis|fut_3p=tendrán|cond_1s=tendría|cond_2s=tendrías|cond_3s=tendría|cond_1p=tendríamos|cond_2p=tendríais|cond_3p=tendrían|pres_sub_1s=tenga|pres_sub_2s=tengas|pres_sub_2sv=tengás|pres_sub_3s=tenga|pres_sub_1p=tengamos|pres_sub_2p=tengáis|pres_sub_3p=tengan|impf_sub_ra_1s=tuviera|impf_sub_ra_2s=tuvieras|impf_sub_ra_3s=tuviera|impf_sub_ra_1p=tuviéramos|impf_sub_ra_2p=tuvierais|impf_sub_ra_3p=tuvieran|impf_sub_se_1s=tuviese|impf_sub_se_2s=tuvieses|impf_sub_se_3s=tuviese|impf_sub_se_1p=tuviésemos|impf_sub_se_2p=tuvieseis|impf_sub_se_3p=tuviesen|fut_sub_1s=tuviere|fut_sub_2s=tuvieres|fut_sub_3s=tuviere|fut_sub_1p=tuviéremos|fut_sub_2p=tuviereis|fut_sub_3p=tuvieren|imp_2s=ten|imp_2sv=tené|imp_3s=tenga|imp_1p=tengamos|imp_2p=tened|imp_3p=tengan|neg_imp_2s=[[no]] [[tengas]]|neg_imp_3s=[[no]] [[tenga]]|neg_imp_1p=[[no]] [[tengamos]]|neg_imp_2p=[[no]] [[tengáis]]|neg_imp_3p=[[no]] [[tengan]]|infinitive_comb_me=tenerme|infinitive_comb_te=tenerte|infinitive_comb_se=tenerse|infinitive_comb_nos=tenernos|infinitive_comb_os=teneros|infinitive_comb_lo=tenerlo|infinitive_comb_la=tenerla|infinitive_comb_le=tenerle|infinitive_comb_los=tenerlos|infinitive_comb_las=tenerlas|infinitive_comb_les=tenerles|gerund_comb_me=teniéndome|gerund_comb_te=teniéndote|gerund_comb_se=teniéndose|gerund_comb_nos=teniéndonos|gerund_comb_os=teniéndoos|gerund_comb_lo=teniéndolo|gerund_comb_la=teniéndola|gerund_comb_le=teniéndole|gerund_comb_los=teniéndolos|gerund_comb_las=teniéndolas|gerund_comb_les=teniéndoles|imp_2s_comb_me=tenme|imp_2s_comb_te=tente|imp_2s_comb_nos=tennos|imp_2s_comb_lo=tenlo|imp_2s_comb_la=tenla|imp_2s_comb_le=tenle|imp_2s_comb_los=tenlos|imp_2s_comb_las=tenlas|imp_2s_comb_les=tenles|imp_3s_comb_me=téngame|imp_3s_comb_se=téngase|imp_3s_comb_nos=ténganos|imp_3s_comb_lo=téngalo|imp_3s_comb_la=téngala|imp_3s_comb_le=téngale|imp_3s_comb_los=téngalos|imp_3s_comb_las=téngalas|imp_3s_comb_les=téngales|imp_1p_comb_te=tengámoste|imp_1p_comb_nos=tengámonos|imp_1p_comb_os=tengámoos|imp_1p_comb_lo=tengámoslo|imp_1p_comb_la=tengámosla|imp_1p_comb_le=tengámosle|imp_1p_comb_los=tengámoslos|imp_1p_comb_las=tengámoslas|imp_1p_comb_les=tengámosles|imp_2p_comb_me=tenedme|imp_2p_comb_nos=tenednos|imp_2p_comb_os=teneos|imp_2p_comb_lo=tenedlo|imp_2p_comb_la=tenedla|imp_2p_comb_le=tenedle|imp_2p_comb_los=tenedlos|imp_2p_comb_las=tenedlas|imp_2p_comb_les=tenedles|imp_3p_comb_me=ténganme|imp_3p_comb_se=ténganse|imp_3p_comb_nos=téngannos|imp_3p_comb_lo=ténganlo|imp_3p_comb_la=ténganla|imp_3p_comb_le=ténganle|imp_3p_comb_los=ténganlos|imp_3p_comb_las=ténganlas|imp_3p_comb_les=ténganles"
    forms = M.do_generate_forms(args, from_headword, d, PAGENAME)
    #assert len(forms["forms"]) == 291
    assert forms["forms"]["pres_1p"][0]["form"] == "tenemos"
    assert forms["forms"]["neg_imp_2s"][0]["form"] == "[[no]] [[tengas]]"
    joined = M.concat_forms(forms, d)
    compare(baseline, joined)

    PAGENAME = "hablar"
    baseline = "infinitive=hablar|infinitive_linked=hablar|gerund=hablando|pp_ms=hablado|pp_fs=hablada|pp_mp=hablados|pp_fp=habladas|pres_1s=hablo|pres_2s=hablas|pres_2sv=hablás|pres_3s=habla|pres_1p=hablamos|pres_2p=habláis|pres_3p=hablan|impf_1s=hablaba|impf_2s=hablabas|impf_3s=hablaba|impf_1p=hablábamos|impf_2p=hablabais|impf_3p=hablaban|pret_1s=hablé|pret_2s=hablaste|pret_3s=habló|pret_1p=hablamos|pret_2p=hablasteis|pret_3p=hablaron|fut_1s=hablaré|fut_2s=hablarás|fut_3s=hablará|fut_1p=hablaremos|fut_2p=hablaréis|fut_3p=hablarán|cond_1s=hablaría|cond_2s=hablarías|cond_3s=hablaría|cond_1p=hablaríamos|cond_2p=hablaríais|cond_3p=hablarían|pres_sub_1s=hable|pres_sub_2s=hables|pres_sub_2sv=hablés|pres_sub_3s=hable|pres_sub_1p=hablemos|pres_sub_2p=habléis|pres_sub_3p=hablen|impf_sub_ra_1s=hablara|impf_sub_ra_2s=hablaras|impf_sub_ra_3s=hablara|impf_sub_ra_1p=habláramos|impf_sub_ra_2p=hablarais|impf_sub_ra_3p=hablaran|impf_sub_se_1s=hablase|impf_sub_se_2s=hablases|impf_sub_se_3s=hablase|impf_sub_se_1p=hablásemos|impf_sub_se_2p=hablaseis|impf_sub_se_3p=hablasen|fut_sub_1s=hablare|fut_sub_2s=hablares|fut_sub_3s=hablare|fut_sub_1p=habláremos|fut_sub_2p=hablareis|fut_sub_3p=hablaren|imp_2s=habla|imp_2sv=hablá|imp_3s=hable|imp_1p=hablemos|imp_2p=hablad|imp_3p=hablen|neg_imp_2s=[[no]] [[hables]]|neg_imp_3s=[[no]] [[hable]]|neg_imp_1p=[[no]] [[hablemos]]|neg_imp_2p=[[no]] [[habléis]]|neg_imp_3p=[[no]] [[hablen]]|infinitive_comb_me=hablarme|infinitive_comb_te=hablarte|infinitive_comb_se=hablarse|infinitive_comb_nos=hablarnos|infinitive_comb_os=hablaros|infinitive_comb_lo=hablarlo|infinitive_comb_la=hablarla|infinitive_comb_le=hablarle|infinitive_comb_los=hablarlos|infinitive_comb_las=hablarlas|infinitive_comb_les=hablarles|gerund_comb_me=hablándome|gerund_comb_te=hablándote|gerund_comb_se=hablándose|gerund_comb_nos=hablándonos|gerund_comb_os=hablándoos|gerund_comb_lo=hablándolo|gerund_comb_la=hablándola|gerund_comb_le=hablándole|gerund_comb_los=hablándolos|gerund_comb_las=hablándolas|gerund_comb_les=hablándoles|imp_2s_comb_me=háblame|imp_2s_comb_te=háblate|imp_2s_comb_nos=háblanos|imp_2s_comb_lo=háblalo|imp_2s_comb_la=háblala|imp_2s_comb_le=háblale|imp_2s_comb_los=háblalos|imp_2s_comb_las=háblalas|imp_2s_comb_les=háblales|imp_3s_comb_me=hábleme|imp_3s_comb_se=háblese|imp_3s_comb_nos=háblenos|imp_3s_comb_lo=háblelo|imp_3s_comb_la=háblela|imp_3s_comb_le=háblele|imp_3s_comb_los=háblelos|imp_3s_comb_las=háblelas|imp_3s_comb_les=hábleles|imp_1p_comb_te=hablémoste|imp_1p_comb_nos=hablémonos|imp_1p_comb_os=hablémoos|imp_1p_comb_lo=hablémoslo|imp_1p_comb_la=hablémosla|imp_1p_comb_le=hablémosle|imp_1p_comb_los=hablémoslos|imp_1p_comb_las=hablémoslas|imp_1p_comb_les=hablémosles|imp_2p_comb_me=habladme|imp_2p_comb_nos=habladnos|imp_2p_comb_os=hablaos|imp_2p_comb_lo=habladlo|imp_2p_comb_la=habladla|imp_2p_comb_le=habladle|imp_2p_comb_los=habladlos|imp_2p_comb_las=habladlas|imp_2p_comb_les=habladles|imp_3p_comb_me=háblenme|imp_3p_comb_se=háblense|imp_3p_comb_nos=háblennos|imp_3p_comb_lo=háblenlo|imp_3p_comb_la=háblenla|imp_3p_comb_le=háblenle|imp_3p_comb_los=háblenlos|imp_3p_comb_las=háblenlas|imp_3p_comb_les=háblenles"
    forms = M.do_generate_forms(args, from_headword, d, PAGENAME)
    joined = M.concat_forms(forms, d)
    compare(baseline, joined)

    PAGENAME = "ababillarse"
    #args = {1:None, "nocomb":"1"}
    baseline = ""
    forms = M.do_generate_forms(args, from_headword, d, PAGENAME)
    joined = M.concat_forms(forms, d)
    #compare(baseline, joined)


    forms = M.do_generate_forms(args, from_headword, d, "absolver")
    forms = M.do_generate_forms(args, from_headword, d, "adscribir")
    forms = M.do_generate_forms(args, from_headword, d, "advenir")
    forms = M.do_generate_forms(args, from_headword, d, "ir")


    forms = M.do_generate_forms({1:"<no_pres_stressed>", "pagename": "aterirse"}, from_headword, d, "aterirse")

    #joined = M.concat_forms(forms, d)
    #print(joined)
    #assert False

    # https://en.wiktionary.org/w/api.php?action=expandtemplates&format=json&prop=wikitext&text=%7B%7BUser:JeffDoozan/es-verb-generate-forms|mostrar%7D%7D
    #baseline = "infinitive=mostrar|infinitive_linked=mostrar|gerund=mostrando|pp_ms=mostrado|pp_fs=mostrada|pp_mp=mostrados|pp_fp=mostradas|pres_1s=mostro|pres_2s=mostras|pres_2sv=mostrás|pres_3s=mostra|pres_1p=mostramos|pres_2p=mostráis|pres_3p=mostran|impf_1s=mostraba|impf_2s=mostrabas|impf_3s=mostraba|impf_1p=mostrábamos|impf_2p=mostrabais|impf_3p=mostraban|pret_1s=mostré|pret_2s=mostraste|pret_3s=mostró|pret_1p=mostramos|pret_2p=mostrasteis|pret_3p=mostraron|fut_1s=mostraré|fut_2s=mostrarás|fut_3s=mostrará|fut_1p=mostraremos|fut_2p=mostraréis|fut_3p=mostrarán|cond_1s=mostraría|cond_2s=mostrarías|cond_3s=mostraría|cond_1p=mostraríamos|cond_2p=mostraríais|cond_3p=mostrarían|pres_sub_1s=mostre|pres_sub_2s=mostres|pres_sub_2sv=mostrés|pres_sub_3s=mostre|pres_sub_1p=mostremos|pres_sub_2p=mostréis|pres_sub_3p=mostren|impf_sub_ra_1s=mostrara|impf_sub_ra_2s=mostraras|impf_sub_ra_3s=mostrara|impf_sub_ra_1p=mostráramos|impf_sub_ra_2p=mostrarais|impf_sub_ra_3p=mostraran|impf_sub_se_1s=mostrase|impf_sub_se_2s=mostrases|impf_sub_se_3s=mostrase|impf_sub_se_1p=mostrásemos|impf_sub_se_2p=mostraseis|impf_sub_se_3p=mostrasen|fut_sub_1s=mostrare|fut_sub_2s=mostrares|fut_sub_3s=mostrare|fut_sub_1p=mostráremos|fut_sub_2p=mostrareis|fut_sub_3p=mostraren|imp_2s=mostra|imp_2sv=mostrá|imp_3s=mostre|imp_1p=mostremos|imp_2p=mostrad|imp_3p=mostren|neg_imp_2s=[[no]] [[mostres]]|neg_imp_3s=[[no]] [[mostre]]|neg_imp_1p=[[no]] [[mostremos]]|neg_imp_2p=[[no]] [[mostréis]]|neg_imp_3p=[[no]] [[mostren]]|infinitive_comb_me=mostrarme|infinitive_comb_te=mostrarte|infinitive_comb_se=mostrarse|infinitive_comb_nos=mostrarnos|infinitive_comb_os=mostraros|infinitive_comb_lo=mostrarlo|infinitive_comb_la=mostrarla|infinitive_comb_le=mostrarle|infinitive_comb_los=mostrarlos|infinitive_comb_las=mostrarlas|infinitive_comb_les=mostrarles|gerund_comb_me=mostrándome|gerund_comb_te=mostrándote|gerund_comb_se=mostrándose|gerund_comb_nos=mostrándonos|gerund_comb_os=mostrándoos|gerund_comb_lo=mostrándolo|gerund_comb_la=mostrándola|gerund_comb_le=mostrándole|gerund_comb_los=mostrándolos|gerund_comb_las=mostrándolas|gerund_comb_les=mostrándoles|imp_2s_comb_me=móstrame|imp_2s_comb_te=móstrate|imp_2s_comb_nos=móstranos|imp_2s_comb_lo=móstralo|imp_2s_comb_la=móstrala|imp_2s_comb_le=móstrale|imp_2s_comb_los=móstralos|imp_2s_comb_las=móstralas|imp_2s_comb_les=móstrales|imp_3s_comb_me=móstreme|imp_3s_comb_se=móstrese|imp_3s_comb_nos=móstrenos|imp_3s_comb_lo=móstrelo|imp_3s_comb_la=móstrela|imp_3s_comb_le=móstrele|imp_3s_comb_los=móstrelos|imp_3s_comb_las=móstrelas|imp_3s_comb_les=móstreles|imp_1p_comb_te=mostrémoste|imp_1p_comb_nos=mostrémonos|imp_1p_comb_os=mostrémoos|imp_1p_comb_lo=mostrémoslo|imp_1p_comb_la=mostrémosla|imp_1p_comb_le=mostrémosle|imp_1p_comb_los=mostrémoslos|imp_1p_comb_las=mostrémoslas|imp_1p_comb_les=mostrémosles|imp_2p_comb_me=mostradme|imp_2p_comb_nos=mostradnos|imp_2p_comb_os=mostraos|imp_2p_comb_lo=mostradlo|imp_2p_comb_la=mostradla|imp_2p_comb_le=mostradle|imp_2p_comb_los=mostradlos|imp_2p_comb_las=mostradlas|imp_2p_comb_les=mostradles|imp_3p_comb_me=móstrenme|imp_3p_comb_se=móstrense|imp_3p_comb_nos=móstrennos|imp_3p_comb_lo=móstrenlo|imp_3p_comb_la=móstrenla|imp_3p_comb_le=móstrenle|imp_3p_comb_los=móstrenlos|imp_3p_comb_las=móstrenlas|imp_3p_comb_les=móstrenles"
    #forms = M.do_generate_forms(args, from_headword, d, "mostrar<ue>")
    #joined = M.concat_forms(forms, d)
    #compare(baseline, joined)
    #print(joined)
    #assert False

    # 'https://en.wiktionary.org/w/api.php?action=expandtemplates&format=json&prop=wikitext&text=%7B%7BUser%3AJeffDoozan%2Fes-verb-generate-forms%7Cacertar%3Cie%3E%20con%7D%7D'
    # {{es-conj|acertar<ie> con|nocomb=1}}
    args = { 1: "acertar<ie> con" } #, "nocomb":1 }
    baseline = "infinitive=[[acertar]] [[con]]|infinitive_linked=[[acertar]] [[con]]|gerund=[[acertando]] [[con]]|pp_ms=[[acertado]] [[con]]|pp_fs=[[acertada]] [[con]]|pp_mp=[[acertados]] [[con]]|pp_fp=[[acertadas]] [[con]]|pres_1s=[[acierto]] [[con]]|pres_2s=[[aciertas]] [[con]]|pres_2sv=[[acertás]] [[con]]|pres_3s=[[acierta]] [[con]]|pres_1p=[[acertamos]] [[con]]|pres_2p=[[acertáis]] [[con]]|pres_3p=[[aciertan]] [[con]]|impf_1s=[[acertaba]] [[con]]|impf_2s=[[acertabas]] [[con]]|impf_3s=[[acertaba]] [[con]]|impf_1p=[[acertábamos]] [[con]]|impf_2p=[[acertabais]] [[con]]|impf_3p=[[acertaban]] [[con]]|pret_1s=[[acerté]] [[con]]|pret_2s=[[acertaste]] [[con]]|pret_3s=[[acertó]] [[con]]|pret_1p=[[acertamos]] [[con]]|pret_2p=[[acertasteis]] [[con]]|pret_3p=[[acertaron]] [[con]]|fut_1s=[[acertaré]] [[con]]|fut_2s=[[acertarás]] [[con]]|fut_3s=[[acertará]] [[con]]|fut_1p=[[acertaremos]] [[con]]|fut_2p=[[acertaréis]] [[con]]|fut_3p=[[acertarán]] [[con]]|cond_1s=[[acertaría]] [[con]]|cond_2s=[[acertarías]] [[con]]|cond_3s=[[acertaría]] [[con]]|cond_1p=[[acertaríamos]] [[con]]|cond_2p=[[acertaríais]] [[con]]|cond_3p=[[acertarían]] [[con]]|pres_sub_1s=[[acierte]] [[con]]|pres_sub_2s=[[aciertes]] [[con]]|pres_sub_2sv=[[acertés]] [[con]]|pres_sub_3s=[[acierte]] [[con]]|pres_sub_1p=[[acertemos]] [[con]]|pres_sub_2p=[[acertéis]] [[con]]|pres_sub_3p=[[acierten]] [[con]]|impf_sub_ra_1s=[[acertara]] [[con]]|impf_sub_ra_2s=[[acertaras]] [[con]]|impf_sub_ra_3s=[[acertara]] [[con]]|impf_sub_ra_1p=[[acertáramos]] [[con]]|impf_sub_ra_2p=[[acertarais]] [[con]]|impf_sub_ra_3p=[[acertaran]] [[con]]|impf_sub_se_1s=[[acertase]] [[con]]|impf_sub_se_2s=[[acertases]] [[con]]|impf_sub_se_3s=[[acertase]] [[con]]|impf_sub_se_1p=[[acertásemos]] [[con]]|impf_sub_se_2p=[[acertaseis]] [[con]]|impf_sub_se_3p=[[acertasen]] [[con]]|fut_sub_1s=[[acertare]] [[con]]|fut_sub_2s=[[acertares]] [[con]]|fut_sub_3s=[[acertare]] [[con]]|fut_sub_1p=[[acertáremos]] [[con]]|fut_sub_2p=[[acertareis]] [[con]]|fut_sub_3p=[[acertaren]] [[con]]|imp_2s=[[acierta]] [[con]]|imp_2sv=[[acertá]] [[con]]|imp_3s=[[acierte]] [[con]]|imp_1p=[[acertemos]] [[con]]|imp_2p=[[acertad]] [[con]]|imp_3p=[[acierten]] [[con]]|neg_imp_2s=[[no]] [[aciertes]] [[con]]|neg_imp_3s=[[no]] [[acierte]] [[con]]|neg_imp_1p=[[no]] [[acertemos]] [[con]]|neg_imp_2p=[[no]] [[acertéis]] [[con]]|neg_imp_3p=[[no]] [[acierten]] [[con]]|infinitive_comb_me=[[acertarme]] [[con]]|infinitive_comb_te=[[acertarte]] [[con]]|infinitive_comb_se=[[acertarse]] [[con]]|infinitive_comb_nos=[[acertarnos]] [[con]]|infinitive_comb_os=[[acertaros]] [[con]]|infinitive_comb_lo=[[acertarlo]] [[con]]|infinitive_comb_la=[[acertarla]] [[con]]|infinitive_comb_le=[[acertarle]] [[con]]|infinitive_comb_los=[[acertarlos]] [[con]]|infinitive_comb_las=[[acertarlas]] [[con]]|infinitive_comb_les=[[acertarles]] [[con]]|gerund_comb_me=[[acertándome]] [[con]]|gerund_comb_te=[[acertándote]] [[con]]|gerund_comb_se=[[acertándose]] [[con]]|gerund_comb_nos=[[acertándonos]] [[con]]|gerund_comb_os=[[acertándoos]] [[con]]|gerund_comb_lo=[[acertándolo]] [[con]]|gerund_comb_la=[[acertándola]] [[con]]|gerund_comb_le=[[acertándole]] [[con]]|gerund_comb_los=[[acertándolos]] [[con]]|gerund_comb_las=[[acertándolas]] [[con]]|gerund_comb_les=[[acertándoles]] [[con]]|imp_2s_comb_me=[[aciértame]] [[con]]|imp_2s_comb_te=[[aciértate]] [[con]]|imp_2s_comb_nos=[[aciértanos]] [[con]]|imp_2s_comb_lo=[[aciértalo]] [[con]]|imp_2s_comb_la=[[aciértala]] [[con]]|imp_2s_comb_le=[[aciértale]] [[con]]|imp_2s_comb_los=[[aciértalos]] [[con]]|imp_2s_comb_las=[[aciértalas]] [[con]]|imp_2s_comb_les=[[aciértales]] [[con]]|imp_3s_comb_me=[[aciérteme]] [[con]]|imp_3s_comb_se=[[aciértese]] [[con]]|imp_3s_comb_nos=[[aciértenos]] [[con]]|imp_3s_comb_lo=[[aciértelo]] [[con]]|imp_3s_comb_la=[[aciértela]] [[con]]|imp_3s_comb_le=[[aciértele]] [[con]]|imp_3s_comb_los=[[aciértelos]] [[con]]|imp_3s_comb_las=[[aciértelas]] [[con]]|imp_3s_comb_les=[[aciérteles]] [[con]]|imp_1p_comb_te=[[acertémoste]] [[con]]|imp_1p_comb_nos=[[acertémonos]] [[con]]|imp_1p_comb_os=[[acertémoos]] [[con]]|imp_1p_comb_lo=[[acertémoslo]] [[con]]|imp_1p_comb_la=[[acertémosla]] [[con]]|imp_1p_comb_le=[[acertémosle]] [[con]]|imp_1p_comb_los=[[acertémoslos]] [[con]]|imp_1p_comb_las=[[acertémoslas]] [[con]]|imp_1p_comb_les=[[acertémosles]] [[con]]|imp_2p_comb_me=[[acertadme]] [[con]]|imp_2p_comb_nos=[[acertadnos]] [[con]]|imp_2p_comb_os=[[acertaos]] [[con]]|imp_2p_comb_lo=[[acertadlo]] [[con]]|imp_2p_comb_la=[[acertadla]] [[con]]|imp_2p_comb_le=[[acertadle]] [[con]]|imp_2p_comb_los=[[acertadlos]] [[con]]|imp_2p_comb_las=[[acertadlas]] [[con]]|imp_2p_comb_les=[[acertadles]] [[con]]|imp_3p_comb_me=[[aciértenme]] [[con]]|imp_3p_comb_se=[[aciértense]] [[con]]|imp_3p_comb_nos=[[aciértennos]] [[con]]|imp_3p_comb_lo=[[aciértenlo]] [[con]]|imp_3p_comb_la=[[aciértenla]] [[con]]|imp_3p_comb_le=[[aciértenle]] [[con]]|imp_3p_comb_los=[[aciértenlos]] [[con]]|imp_3p_comb_las=[[aciértenlas]] [[con]]|imp_3p_comb_les=[[aciértenles]] [[con]]"
    #baseline = "infinitive=acertar con|infinitive_linked=acertar con|gerund=acertando con|pp_ms=acertado con|pp_fs=acertada con|pp_mp=acertados con|pp_fp=acertadas con|pres_1s=acierto con|pres_2s=aciertas con|pres_2sv=acertás con|pres_3s=acierta con|pres_1p=acertamos con|pres_2p=acertáis con|pres_3p=aciertan con|impf_1s=acertaba con|impf_2s=acertabas con|impf_3s=acertaba con|impf_1p=acertábamos con|impf_2p=acertabais con|impf_3p=acertaban con|pret_1s=acerté con|pret_2s=acertaste con|pret_3s=acertó con|pret_1p=acertamos con|pret_2p=acertasteis con|pret_3p=acertaron con|fut_1s=acertaré con|fut_2s=acertarás con|fut_3s=acertará con|fut_1p=acertaremos con|fut_2p=acertaréis con|fut_3p=acertarán con|cond_1s=acertaría con|cond_2s=acertarías con|cond_3s=acertaría con|cond_1p=acertaríamos con|cond_2p=acertaríais con|cond_3p=acertarían con|pres_sub_1s=acierte con|pres_sub_2s=aciertes con|pres_sub_2sv=acertés con|pres_sub_3s=acierte con|pres_sub_1p=acertemos con|pres_sub_2p=acertéis con|pres_sub_3p=acierten con|impf_sub_ra_1s=acertara con|impf_sub_ra_2s=acertaras con|impf_sub_ra_3s=acertara con|impf_sub_ra_1p=acertáramos con|impf_sub_ra_2p=acertarais con|impf_sub_ra_3p=acertaran con|impf_sub_se_1s=acertase con|impf_sub_se_2s=acertases con|impf_sub_se_3s=acertase con|impf_sub_se_1p=acertásemos con|impf_sub_se_2p=acertaseis con|impf_sub_se_3p=acertasen con|fut_sub_1s=acertare con|fut_sub_2s=acertares con|fut_sub_3s=acertare con|fut_sub_1p=acertáremos con|fut_sub_2p=acertareis con|fut_sub_3p=acertaren con|imp_2s=acierta con|imp_2sv=acertá con|imp_3s=acierte con|imp_1p=acertemos con|imp_2p=acertad con|imp_3p=acierten con|neg_imp_2s=no aciertes con|neg_imp_3s=no acierte con|neg_imp_1p=no acertemos con|neg_imp_2p=no acertéis con|neg_imp_3p=no acierten con|infinitive_comb_me=acertarme con|infinitive_comb_te=acertarte con|infinitive_comb_se=acertarse con|infinitive_comb_nos=acertarnos con|infinitive_comb_os=acertaros con|infinitive_comb_lo=acertarlo con|infinitive_comb_la=acertarla con|infinitive_comb_le=acertarle con|infinitive_comb_los=acertarlos con|infinitive_comb_las=acertarlas con|infinitive_comb_les=acertarles con|gerund_comb_me=acertándome con|gerund_comb_te=acertándote con|gerund_comb_se=acertándose con|gerund_comb_nos=acertándonos con|gerund_comb_os=acertándoos con|gerund_comb_lo=acertándolo con|gerund_comb_la=acertándola con|gerund_comb_le=acertándole con|gerund_comb_los=acertándolos con|gerund_comb_las=acertándolas con|gerund_comb_les=acertándoles con|imp_2s_comb_me=aciértame con|imp_2s_comb_te=aciértate con|imp_2s_comb_nos=aciértanos con|imp_2s_comb_lo=aciértalo con|imp_2s_comb_la=aciértala con|imp_2s_comb_le=aciértale con|imp_2s_comb_los=aciértalos con|imp_2s_comb_las=aciértalas con|imp_2s_comb_les=aciértales con|imp_3s_comb_me=aciérteme con|imp_3s_comb_se=aciértese con|imp_3s_comb_nos=aciértenos con|imp_3s_comb_lo=aciértelo con|imp_3s_comb_la=aciértela con|imp_3s_comb_le=aciértele con|imp_3s_comb_los=aciértelos con|imp_3s_comb_las=aciértelas con|imp_3s_comb_les=aciérteles con|imp_1p_comb_te=acertémoste con|imp_1p_comb_nos=acertémonos con|imp_1p_comb_os=acertémoos con|imp_1p_comb_lo=acertémoslo con|imp_1p_comb_la=acertémosla con|imp_1p_comb_le=acertémosle con|imp_1p_comb_los=acertémoslos con|imp_1p_comb_las=acertémoslas con|imp_1p_comb_les=acertémosles con|imp_2p_comb_me=acertadme con|imp_2p_comb_nos=acertadnos con|imp_2p_comb_os=acertaos con|imp_2p_comb_lo=acertadlo con|imp_2p_comb_la=acertadla con|imp_2p_comb_le=acertadle con|imp_2p_comb_los=acertadlos con|imp_2p_comb_las=acertadlas con|imp_2p_comb_les=acertadles con|imp_3p_comb_me=aciértenme con|imp_3p_comb_se=aciértense con|imp_3p_comb_nos=aciértennos con|imp_3p_comb_lo=aciértenlo con|imp_3p_comb_la=aciértenla con|imp_3p_comb_le=aciértenle con|imp_3p_comb_los=aciértenlos con|imp_3p_comb_las=aciértenlas con|imp_3p_comb_les=aciértenles con"
    forms = M.do_generate_forms(args, from_headword, d, "acertar con")
    joined = M.concat_forms(forms, d)
    print(joined)
    compare(baseline, joined)
